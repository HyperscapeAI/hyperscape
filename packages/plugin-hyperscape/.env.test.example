# Hyperscape Plugin Test Environment Configuration
# Copy this file to .env.test and fill in your actual values

# ============================================================================
# HYPERSCAPE WORLD CONNECTION
# ============================================================================

# Required: WebSocket URL of the test Hyperscape server
# Format: ws://localhost:5555/ws for local development
# WS_URL is used by the HyperscapeService (primary)
WS_URL=ws://localhost:5555/ws

# HYPERSCAPE_WS_URL is kept for compatibility with other scripts
HYPERSCAPE_WS_URL=ws://localhost:5555

# Required: HTTP URL of the test Hyperscape server (for agent token API)
HYPERSCAPE_SERVER_URL=http://localhost:5555

# Optional: Agent authentication token (get via challenge code flow)
# Leave blank - agents will use LINK_AGENT action to authenticate
HYPERSCAPE_AUTH_TOKEN=

# ============================================================================
# OPENAI CONFIGURATION (Required for character intelligence)
# ============================================================================

# Required: OpenAI API key for GPT-4 access
OPENAI_API_KEY=sk-proj-YOUR-KEY-HERE

# ============================================================================
# SQL DATABASE CONFIGURATION (Required per ElizaOS methodology)
# ============================================================================

# Database adapter type: 'sqlite' (local) or 'postgres' (production)
DATABASE_ADAPTER=postgres

# ElizaOS PostgreSQL connection (separate from Hyperscape game database)
# Port 5433 is the ElizaOS PostgreSQL instance (Hyperscape uses 5432)
POSTGRES_URL=postgresql://eliza:eliza_dev@localhost:5433/eliza

# SQLite fallback (for testing without Docker)
SQLITE_FILE=./test-data/eliza-test.db

# ============================================================================
# OPTIONAL: OLLAMA FALLBACK (for local testing without OpenAI)
# ============================================================================

# Uncomment to enable Ollama as local LLM fallback
# OLLAMA_API_ENDPOINT=http://localhost:11434

# ============================================================================
# AGENT CONFIGURATION
# ============================================================================

# Optional: Pre-configured character ID for agent to use
# If set, linkAgent action will use this character instead of server selection
# Format: UUID of an existing character in the database
# Example: AGENT_CHARACTER_ID=550e8400-e29b-41d4-a716-446655440000
AGENT_CHARACTER_ID=

# Optional: Test user token for character creation in tests
# Used by wallet integration tests to create characters with wallets
TEST_USER_TOKEN=

# ============================================================================
# TEST CONFIGURATION
# ============================================================================

# Enable verbose logging for debugging
LOG_LEVEL=debug

# Test timeout (milliseconds) - tests will fail if they exceed this
TEST_TIMEOUT=30000

# Number of retries for flaky tests
TEST_RETRIES=0
